!function(x){"use strict";Berserk.behaviors.header_init={attach:function(e,n){x(e).parent().find(".brk-header:not(.rendered)").addClass("rendered").each(function(){var c=x(this),i=c.find(".brk-header__main-bar"),a=i.data("height-scroll"),n=992,o=c.data("sticky-hide");x("body").width();if(x(".brk-header__top-bar").length){var t=c.find(".brk-header__top-bar_hide"),s=c.find(".brk-header__top-bar_scroll"),l=c.find(".brk-header__top-bar").data("top");l=l||0;var e=function(e){if(e<=(window.innerWidth||x(window).width())){if(t.length){var n=t.innerHeight()-l;if(x("body").hasClass("admin-bar")){var r=n-32;c.css("top","-"+r+"px")}else c.css("top","-"+n+"px")}}else c.css("top","0")},r=function(e){if(1!==o)if(e<=(window.innerWidth||x(window).width())){if(s.length){var n=s.innerHeight()-l;if(0<x(window).scrollTop())if(x(".brk-open-top-bar").length&&c.find(".brk-open-top-bar").removeClass("active"),x("body").hasClass("admin-bar")){var r=n-32;c.css("top","-"+r+"px")}else c.css("top","-"+n+"px");else x(window).scrollTop()<=0&&(x(".brk-open-top-bar").length&&c.find(".brk-open-top-bar").addClass("active"),x("body").hasClass("admin-bar")?c.css("top","32px"):c.css("top","0"))}}else c.css("top","0")};setTimeout(function(){e(n)},2e3),r(n),x(window).on("resize scroll",function(){e(n),r(n)})}if(x(".brk-open-top-bar").length){var d=c.find(".brk-open-top-bar");d.on("click",function(){d.toggleClass("active"),c.toggleClass("top-bar-active")})}function b(e){var n=window.innerWidth||x(window).width();if(a)var r=i.data("height-temp");c.hasClass("brk-header_not-fixed")||e<=n&&(0<x(window).scrollTop()?(c.addClass("brk-header_scroll"),a&&i.css("height",a+"px")):x(window).scrollTop()<=0&&(c.removeClass("brk-header_scroll"),a&&i.css("height",r+"px"))),0<x(window).scrollTop()?x(".brk-header-mobile").addClass("brk-header-mobile_scroll"):x(window).scrollTop()<=0&&x(".brk-header-mobile").removeClass("brk-header-mobile_scroll")}if(a&&i.data("height-temp",i.height()),b(n),x(window).on("scroll",function(){b(n)}),1===o){var h=0;setTimeout(function(){x(window).on("scroll",function(){var e=x(this).scrollTop(),n=!1,r=!1;0<e&&(h<e?(n=!1,e<c.height()+c.offset().top&&!1===r&&(c.addClass("brk-header_sticky-hide"),r=!0)):(r=!1,e>c.offset().top&&!1===n&&(c.removeClass("brk-header_sticky-hide"),n=!0)),h=e)})},2500)}var k=!1;function v(e){var n=window.innerWidth||x(window).width();if(n<e&&!k){c.wrap('<div class="brk-header-mobile-wrap"><div class="brk-header-mobile-wrap__body"></div></div>');var r=x(".brk-header-mobile-wrap"),i=x(".brk-header-mobile-wrap__body"),a=c.data("logo-src"),o=c.data("bg-mobile");i.prepend('<div class="brk-before"></div><div class="brk-header-mobile-wrap__header"><div class="brk-header-mobile-wrap__close"><span></span></div></div>'),""!==a&&x(".brk-header-mobile-wrap__header").prepend('<div class="brk-header-mobile-wrap__logo"><img src="'+a+'" alt=""></div>'),""!==o&&void 0!==o&&r.css("background-image","url("+o+")"),r.before('<div class="brk-header-mobile-wrap-layer"></div>'),k=!0}else e<=n&&k&&(x(".brk-header-mobile-wrap__header").detach(),x(".brk-header-mobile-wrap-layer").remove(),x(".brk-before, .brk-header-mobile-wrap__header").remove(),c.unwrap(),c.unwrap(),k=!1);var t=x(".brk-header-mobile"),s=t.find(".brk-header-mobile__open"),l=(r=x(".brk-header-mobile-wrap")).find(".brk-header-mobile-wrap__close"),d=x(".brk-header-mobile-wrap-layer");t.length&&s.on("click",function(){x("body").addClass("modal-open"),r.addClass("is-active"),d.addClass("is-active")}),r.length&&l.on("click",function(){x("body").removeClass("modal-open"),r.removeClass("is-active"),d.removeClass("is-active")})}v(n),x(window).on("resize",function(){v(n)});var f=!1;function p(e){var n=x(".brk-nav, .brk-header-popup-menu"),r=n.find(".brk-nav__children"),i=n.find(".brk-nav__menu > li").children("a"),a=n.find("a"),o=window.innerWidth||x(window).width();if(o<e&&!f){if(r.prepend('<div class="brk-nav__link-open"><i class="fa fa-angle-right"></i></div>'),x(".brk-nav__link-open").length){var t=x(".brk-nav__link-open");0<t.length&&t.on("click",function(){var e=x(this),n=e.parent(),r=n.children(".brk-nav-drop-down");n.toggleClass("children-active"),e.toggleClass("is-active"),r.slideToggle(400)}),i.each(function(){var e=x(this),n=e.attr("href");"/"!==n&&("#"===n[0]&&1===n.length||"javascript:void(0)"===n||!n.length)&&e.on("click",function(e){e.preventDefault();var n=x(this).parent(),r=n.children(".brk-nav-drop-down"),i=n.children(".brk-nav__link-open");n.toggleClass("children-active"),i.toggleClass("is-active"),r.slideToggle(400)})})}a.each(function(){var e=x(this),r=e.attr("href");"#"===r[0]&&e.on("click",function(e){if(e.preventDefault(),x(r).length){var n=x(this).parents(".brk-header-mobile-wrap");x("body").removeClass("modal-open"),n.removeClass("is-active"),x(".brk-header-mobile-wrap-layer").removeClass("is-active")}})}),f=!0}else 0<x(".brk-nav__link-open").length&&e<=o&&f&&(x(".brk-nav__link-open").remove(),r.removeClass("children-active"),f=!1)}x(window).on("load",function(){p(n)}),x(window).on("resize",function(){p(n)}),x(".brk-nav__drop-down-effect").each(function(){var e=x(this),a=e.find(".dd-effect");e.on("mouseenter",function(){var e,n,r,i;e=a,n=10,i="left"===r?{opacity:0,left:10}:{opacity:0,left:-10},(e="left"===r?x(e.get().reverse()):e).css(i).each(function(e){x(this).delay(n*e).animate({opacity:1,left:0})})})}),x(".brk-quantity").find(".brk-quantity__arrows").on("click",function(){var e=x(this).parent().find(".brk-quantity__value"),n=e.val();x(this).hasClass("minus")&&1<n?e.val(+n-1):x(this).hasClass("plus")&&e.val(+n+1)});var _,u=x(".brk-info-menu"),m=x(".brk-info-menu-open"),w=u.find(".brk-info-menu__close"),g=window.innerWidth||x(window).width();function C(e,n,r,i){n=(e=x(e)).find(n),r=e.find(r);var a=window.innerWidth||x(window).width();a<i?n.unbind("click").on("click",function(){r.slideToggle(400)}):i<=a&&(n.unbind("click"),r.css("display",""))}function y(e){var n=window.innerWidth||x(window).width();n<e?x(".brk-lang:not(.brk-lang-rendered)").addClass("brk-lang-rendered").each(function(){var e=x(this),n=e.find(".brk-lang__open"),r=e.find(".brk-lang__option");e.unbind(),n.on("click",function(){r.slideToggle(300)})}).removeClass("brk-lang_interactive-rendered"):e<=n&&(x(".brk-lang_interactive:not(.brk-lang_interactive-rendered)").addClass("brk-lang_interactive-rendered").each(function(){var e=x(this),n=e.closest(".brk-header__top-bar, .brk-header__main-bar"),r=n.find(".container-fluid, .container"),i=n.find(".brk-header__item:not(.brk-lang_interactive)"),a=i.parents('[class*="col"]');n.css({height:n.outerHeight(),transition:"height .3s"}),e.on({mouseenter:function(){i.css("opacity","0"),r.css("background","transparent !important"),n.addClass("top-bar-bg"),x("div").is(".brk-overlay")||c.after('<div class="brk-overlay"></div>'),a.css("border","0")},mouseleave:function(){i.css("opacity","1"),r.removeAttr("style"),n.removeClass("top-bar-bg"),x("div").is(".brk-overlay")&&x(".brk-overlay").remove(),a.css("border","")}})}).removeClass("brk-lang-rendered"),x(".brk-lang__option").css("display",""),x(".brk-lang").find(".brk-lang__open").unbind("click"))}function T(){var r=window.innerWidth||x(window).width();if(!(r<992)){x(".brk-mini-cart, .brk-social-links, .brk-search, .brk-lang, .brk-nav__sub-menu, .flexMenu-popup").each(function(){var e=x(this),n=r/2+350;e.offset().left+e.width()/2<n?e.removeClass("brk-location-screen-left brk-location-screen-right").addClass("brk-location-screen-left"):e.removeClass("brk-location-screen-left brk-location-screen-right").addClass("brk-location-screen-right")})}}m.on("click",function(){u.toggleClass("active"),m.toggleClass("open-active"),n<=g&&x("body").toggleClass("modal-open")}),w.on("click",function(){u.hasClass("active")&&u.removeClass("active"),m.hasClass("open-active")&&m.removeClass("open-active"),n<=g&&x("body").hasClass("modal-open")&&x("body").removeClass("modal-open")}),x(document).on("click",function(e){x(e.target).closest(".brk-info-menu").length||x(e.target).closest(".brk-info-menu-open").length||(u.hasClass("active")&&u.removeClass("active"),m.hasClass("open-active")&&m.removeClass("open-active"),n<=g&&x("body").hasClass("modal-open")&&x("body").removeClass("modal-open")),e.stopPropagation()}),C(".brk-mini-cart",".brk-mini-cart__open, .brk-mini-cart__info-open",".brk-mini-cart__menu",n),C(".brk-social-links",".brk-social-links__open",".brk-social-links__block",n),C(".brk-search",".brk-search__open",".brk-search__block",n),x(window).on("resize",function(){C(".brk-mini-cart",".brk-mini-cart__open, .brk-mini-cart__info-open",".brk-mini-cart__menu",n),C(".brk-social-links",".brk-social-links__open",".brk-social-links__block",n),C(".brk-search",".brk-search__open",".brk-search__block",n)}),_=window.innerWidth||x(window).width(),n<=_&&x(".brk-search_interactive").each(function(){var e=x(this),n=e.parents(".brk-header__main-bar"),r=n.children(".container-fluid, .container"),i=e.find(".brk-search__open"),a=e.find(".brk-search__close"),o=e.find(".brk-search__block"),t=o.find('[type="search"]'),s=n.find(".brk-header__item:not(.brk-search_interactive)"),l=s.parents('[class*="col"]');i.on("click",function(){o.addClass("active"),r.addClass("position-relative"),s.hide(0),x(this).hide(0),x("div").is(".brk-overlay")||c.after('<div class="brk-overlay"></div>'),setTimeout(function(){t.focus()},150),l.css("border","0")}),a.on("click",function(){o.removeClass("active"),s.show(0),i.show(0),r.removeClass("position-relative"),x("div").is(".brk-overlay")&&x(".brk-overlay").remove(),l.css("border","")}),x(document).on("click",function(e){x(e.target).closest(".brk-header").length||(o.removeClass("active"),s.show(0),i.show(0),r.removeClass("position-relative"),x("div").is(".brk-overlay")&&x(".brk-overlay").remove(),l.css("border","")),e.stopPropagation()})}),window.addEventListener("load",function(){y(n)}),x(window).on("resize",function(){y(n)}),function(){if(0<x(".brk-header-popup-menu").length){c.after('<div class="brk-header-popup-menu-layer"></div>');var n=x(".brk-header-popup-menu").find(".brk-header-popup-menu__open-close"),r=x(".brk-header-popup-menu__menu"),i=x(".brk-header-popup-menu-layer"),a=r.find("a");0<x(".brk-header_vertical").length&&(x(".brk-header").append(r),r.addClass("brk-moved-by-js")),n.on("click",function(){x(this).toggleClass("is-active"),r.fadeToggle(300),i.fadeToggle(500)}),i.on("click",function(){var e=x(this);n.toggleClass("is-active"),r.fadeToggle(300),e.fadeToggle(500)}),a.each(function(){var e=x(this).attr("href");"#"===e[0]&&1<e.length&&x(e).length&&a.on("click",function(){n.removeClass("is-active"),r.fadeOut(300),i.fadeOut(500)})})}}(),x(".brk-totop").on("click",function(){x("html, body").stop().animate({scrollTop:0},500)}),T(),x(window).on("load resize",function(){setTimeout(function(){T()},300)})})}},Berserk.behaviors.header_init_menu_flex={attach:function(e,n){if(!(x(".brk-nav:not(.rendered)").length<1)){if("function"!=typeof x.fn.flexMenu)return console.log("Waiting for the flexMenu library"),void setTimeout(Berserk.behaviors.header_init_menu_flex.attach,n.timeout_delay,e,n);var o=!0;x(e).parent().find(".brk-nav:not(.rendered)").addClass("rendered").each(function(){var e=x(this),i=e.find(".brk-nav__menu"),a=e.data("flexmenu-link-text");0===e.closest(".brk-header_vertical").length&&(a=a||"More",x(window).on("load resize",function(){var n,e,r;n=i,e=a,(r=window.innerWidth||x(window).width())<992&&!o?(n.flexMenu({undo:!0}),o=!0):992<=r&&o&&(n.flexMenu({linkText:e}),setTimeout(function(){if(x(".flexMenu-viewMore").length){var e=x(".flexMenu-popup").offset().left+80;n.find(".flexMenu-viewMore .brk-nav__mega-menu").attr("style","width: calc(100vw - "+e+"px)")}},500),o=!1)}))})}}}}(jQuery);